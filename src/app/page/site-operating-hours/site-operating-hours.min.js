function callpricenoticesPDF(a){$("#pricenoticesPDFForm #pricenoticesId").val(a),$("#pricenoticesPDFForm").submit()}function callpricenoticesPDFLink(a){$("#pricenoticesPDFForm #pricenoticesId").val(a),$("#pricenoticesPDFForm #pricenoticesPrint").val("false"),$("#pricenoticesPDFForm").submit()}function goToOrderDetails(a){$("#orderDetailsForm #orderId").val(a),$("#orderDetailsForm #hybrisOrder").val(!1),$("#orderDetailsForm").submit()}function goToEftDetails(a,b){$("#eftForm #eftId").val(a),$("#eftForm #fiscalYear").val(b),$("#eftForm").submit()}function paypricenotices(){if(!disablePayError||enablepricenoticesError||enableTotalError){$(".alert-danger").addClass("hide"),disablePayError||$(".js-selected-product-error").removeClass("hide"),enablepricenoticesError&&$(".js-selected-pricenotices-error").removeClass("hide"),enableTotalError&&$(".js-total-amount-error").removeClass("hide");var a=[];$("#table tbody").find("tr.selected input[name='type']").each(function(){a=$(this).val().split("@"),(productCodes.indexOf(a[0])==-1||pricenoticesStatusCodes.indexOf(a[1])>-1)&&$(this).parents("tr").addClass("bg-danger")})}else $.isEmptyObject(pricenoticesObj)&&(pricenoticesObj.shipTo=$("#shipToSelectDdn").val(),pricenoticesObj.soldTo=$("#locationSelectDdn").val(),pricenoticesObj.pricenoticesNumber=$("#pricenoticesNumber").val(),pricenoticesObj.salesOrderNumber=$("#orderNumber").val(),pricenoticesObj.poNumber=$("#poNumber").val(),pricenoticesObj.pricenoticesTypes=$("#pricenoticesTypeDdn").val(),pricenoticesObj.downloadStatus=$("#downloadStatus").val(),pricenoticesObj.printStatus=$("#printStatus").val(),pricenoticesObj.paymentStatus=$("#paymentStatusDdn").val(),pricenoticesObj.startDate=startDate,pricenoticesObj.endDate=endDate),localStorage.setItem("pricenoticesObj",JSON.stringify(pricenoticesObj)),$(".js-selected-product-error").addClass("hide"),$("#paymentForm #selectedpricenoticess").val(selectedpricenoticess.toString()),$("#paymentForm").submit()}function callpricenoticesPDF(a){$("#pricenoticesPDFForm #pricenoticesId").val(a),$("#pricenoticesPDFForm").submit()}function callpricenoticesPDFLink(a){$("#pricenoticesPDFForm #pricenoticesId").val(a),$("#pricenoticesPDFForm #pricenoticesPrint").val("false"),$("#pricenoticesPDFForm").submit()}function goToOrderDetails(a){$("#orderDetailsForm #orderId").val(a),$("#orderDetailsForm #hybrisOrder").val(!1),$("#orderDetailsForm").submit()}function goToEftDetails(a,b){$("#eftForm #eftId").val(a),$("#eftForm #fiscalYear").val(b),$("#eftForm").submit()}function paypricenotices(){if(!disablePayError||enablepricenoticesError||enableTotalError){$(".alert-danger").addClass("hide"),disablePayError||$(".js-selected-product-error").removeClass("hide"),enablepricenoticesError&&$(".js-selected-pricenotices-error").removeClass("hide"),enableTotalError&&$(".js-total-amount-error").removeClass("hide");var a=[];$("#table tbody").find("tr.selected input[name='type']").each(function(){a=$(this).val().split("@"),(-1==productCodes.indexOf(a[0])||pricenoticesStatusCodes.indexOf(a[1])>-1)&&$(this).parents("tr").addClass("bg-danger")})}else $.isEmptyObject(pricenoticesObj)&&(pricenoticesObj.shipTo=$("#shipToSelectDdn").val(),pricenoticesObj.soldTo=$("#locationSelectDdn").val(),pricenoticesObj.pricenoticesNumber=$("#pricenoticesNumber").val(),pricenoticesObj.salesOrderNumber=$("#orderNumber").val(),pricenoticesObj.poNumber=$("#poNumber").val(),pricenoticesObj.pricenoticesTypes=$("#pricenoticesTypeDdn").val(),pricenoticesObj.downloadStatus=$("#downloadStatus").val(),pricenoticesObj.printStatus=$("#printStatus").val(),pricenoticesObj.paymentStatus=$("#paymentStatusDdn").val(),pricenoticesObj.startDate=startDate,pricenoticesObj.endDate=endDate),localStorage.setItem("pricenoticesObj",JSON.stringify(pricenoticesObj)),$(".js-selected-product-error").addClass("hide"),$("#paymentForm #selectedpricenoticess").val(selectedpricenoticess.toString()),$("#paymentForm").submit()}var locationDropDownOptions=[],startDate,endDate,pastSelectableDate=6,pricenoticesObj={},pricenoticesTotalSum=0;if(locationDropDownOptions=locationDropDown.map(function(a,b){return{key:a.soldToNumber,value:a.soldToAddress}}),locationDropDownOptions.length>1&&locationDropDownOptions.unshift({key:"all",value:"All"}),cbp.pricenoticessPage.locationDropDown.options=locationDropDownOptions,cbp.pricenoticessPage.locationDropDown.searchable=!0,paymentStatusDropdownOptions.length>1){var obj={};obj.key="all",obj.value=cbp.pricenoticessPage.paymentStatusDropdown.title,paymentStatusDropdownOptions.unshift(obj)}cbp.pricenoticessPage.paymentStatusDropdown.options=paymentStatusDropdownOptions;var selectedpricenoticess=[],selectedProduct=[],selectedpricenoticesStatus=[],disablePayError=!1,enablepricenoticesError=!1,enableTotalError=!1;require(["modernizr","jquery","bootstrap","handlebars","moment","calendar","bootstrap-select","bootstrap-table","text!app/components/calendar/_calendar.hbs","text!app/components/dropdown/_defaultDdn.hbs","text!app/page/pricenoticess/searchForm.hbs","text!app/page/pricenoticess/pricenoticessSummary.hbs","text!app/page/pricenoticess/bottomDetail.hbs"],function(a,b,c,d,e,f,g,h,j,k,l,m,n){var o=d.compile(k),p=d.compile(j),q=d.compile(l),r=d.compile(m),s=d.compile(n),t=function(){function a(){var a=pricenoticessResponse.summaryResponse;if(a.length>5){a=a.split(",");var b=a[0],c=a.splice(1);pricenoticessResponse.soldShipToBlock=b+",",pricenoticessResponse.soldShipToNormal=c}else pricenoticessResponse.soldShipToBlock=a,pricenoticessResponse.soldShipToNormal=""}var c={locationDdnContainer:".js-location-ddn",shipToDdnContainer:".js-shipTo-ddn",pricenoticessSummaryContainer:".js-pricenoticess-summary",pricenoticessTypeContainer:".js-pricenoticessType-ddn",paymentStatusContainer:".js-paymentStatus-ddn",downloadStatusContainer:".js-downloadStatus-ddn",printStatusContainer:".js-printStatus-ddn",pickDateRangeContainer:".js-search-pickDateRange",searchFormContainer:".js-search-form",searchDetailContainer:".js-bottom-detail",sortByDdnContainer:".js-sortbyDdn",dropDownCommon:".selectpicker",ordercalendar:"#calendar",searchButton:"#pricenoticessSearch",tabelRow:"#table tbody tr",downloadBtn:".js-downloadBtn",printBtn:".js-printBtn",payInvBtn:".js-payInvBtn",pricenoticesTypeDdn:"#pricenoticesTypeDdn",paymentStatusDdn:"#paymentStatusDdn",locationDdn:"#locationSelectDdn",shipToDdn:"#shipToSelectDdn",downloadStatusDdn:"#downloadStatus",printStatusDdn:"#printStatus",sortByDdn:"#sortByDdn",displaySpinner:".overlay-wrapper",dropdownSelect:".dropdown-menu .toggle-select",pricenoticesNumber:"#pricenoticesNumber",orderNumber:"#orderNumber",poNumber:"#poNumber",squareUnchecked:"fa-square-o",squareChecked:"fa-check-square-o",downloadIcon:".iconsPrintDownload",printIcon:".iconspricenoticesPrint"},d=function(){if(h(),1==cbp.pricenoticessPage.locationDropDown.options.length?(A(b(c.locationDdn).val(),"all"),b(c.searchButton).removeAttr("disabled")):cbp.pricenoticessPage.locationDropDown.options.length>1,b(c.locationDdn).selectpicker("refresh"),z(shipToListOnLoad),"true"===allpricenoticesFlow&&(b(c.downloadStatusDdn).val("notDownloaded").selectpicker("refresh"),b(c.printStatusDdn).val("notPrinted").selectpicker("refresh")),void 0!==localStorage.getItem("pricenoticesObj")&&null!==localStorage.getItem("pricenoticesObj")&&isPaymentFlow){var a=JSON.parse(localStorage.getItem("pricenoticesObj"));startDate=a.startDate,endDate=a.endDate,cbp.pricenoticessPage.dateRange.startDate=e(startDate,cbp.pricenoticessPage.dateRange.format,!0),cbp.pricenoticessPage.dateRange.endDate=e(endDate,cbp.pricenoticessPage.dateRange.format,!0),b(c.pricenoticesNumber).val(a.pricenoticesNumber),b(c.orderNumber).val(a.salesOrderNumber),b(c.poNumber).val(a.poNumber),b(c.pricenoticesTypeDdn).val(a.pricenoticesTypes).selectpicker("refresh"),b(c.paymentStatusDdn).val(a.paymentStatus).selectpicker("refresh"),b(c.downloadStatusDdn).val(a.downloadStatus).selectpicker("refresh"),b(c.printStatusDdn).val(a.printStatus).selectpicker("refresh"),b(c.locationDdn).val(a.soldTo).selectpicker("refresh"),b.when(A(a.soldTo,a.shipTo)).then(function(a){m()}),localStorage.removeItem("pricenoticesObj"),b(c.searchButton).removeAttr("disabled")}else D(cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList,cbp.pricenoticessPage.pricenoticessResponse.pricenoticessSearchList);l(),B(),"true"===noCardsAdded&&"true"===ccPaymentEligible?b(".js-card-error").removeClass("hide"):"true"===allCardsExpired&&"true"===ccPaymentEligible&&b(".js-card-expired-error").removeClass("hide")},f=function(){b("#pricenoticesForm #selectedpricenoticess").val(selectedpricenoticess.toString());for(var a=0;len=selectedpricenoticess.length,a<len;a++)b(".iconsPrintDownload[data-pricenoticesid='"+selectedpricenoticess[a]+"']").addClass("success-icon"),cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList[b("tr[data-uniqueid='"+selectedpricenoticess[a]+"']").data("index")].downloaded=!0;b("#pricenoticesForm").submit(),selectedpricenoticess.length=0},g=function(){var a=selectedpricenoticess.length;b("#pricenoticesForm #selectedpricenoticess").val(selectedpricenoticess.toString());var c=b("#contextPath").val()+"/pricenoticess/pricenoticesListPDF",d=b("#pricenoticesForm").attr("action");b("#pricenoticesForm").attr("action",c),b("#pricenoticesForm").attr("target","_blank");for(var e=0;e<a;e++)b(".iconspricenoticesPrint[data-pricenoticesid='"+selectedpricenoticess[e]+"']").addClass("success-icon"),cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList[b("tr[data-uniqueid='"+selectedpricenoticess[e]+"']").data("index")].printed=!0;b("#pricenoticesForm").submit(),b("#pricenoticesForm").attr("action",d),b("#pricenoticesForm").removeAttr("target"),selectedpricenoticess.length=0},h=function(){b(c.searchFormContainer).html(q(cbp.pricenoticessPage)),b(c.locationDdnContainer).html(o(cbp.pricenoticessPage.locationDropDown)),b(c.shipToDdnContainer).html(o(cbp.pricenoticessPage.shipToDropDown)),b(c.downloadStatusContainer).html(o(cbp.pricenoticessPage.downloadStatusDropdown)),b(c.pricenoticessTypeContainer).html(o(cbp.pricenoticessPage.pricenoticesTypeDropdown)),b(c.paymentStatusContainer).html(o(cbp.pricenoticessPage.paymentStatusDropdown)),b(c.printStatusContainer).html(o(cbp.pricenoticessPage.printStatusDropdown)),b(c.pickDateRangeContainer).html(p({label:cbp.pricenoticessPage.globalVars.pickDateRange,iconClass:cbp.pricenoticessPage.dateRange.iconClass,id:cbp.pricenoticessPage.dateRange.id})),console.log("option select all in ship to",shipToListOnLoad.length),shipToListOnLoad.length<2?(cbp.pricenoticessPage.showSoldTo=!1,pricenoticessResponse.summaryResponse=pricenoticessResponse.summary.shipTo):(cbp.pricenoticessPage.showSoldTo=!0,pricenoticessResponse.summaryResponse=pricenoticessResponse.summary.soldTo),j(),b(c.dropDownCommon).selectpicker("refresh"),k(),b(c.displaySpinner).hide()},j=function(){a(),b(c.pricenoticessSummaryContainer).html(r(cbp.pricenoticessPage)),b(c.searchDetailContainer).html(s(cbp.pricenoticessPage)),b(c.sortByDdnContainer).html(o(y)),b(c.sortByDdnContainer).find(c.dropDownCommon).selectpicker("refresh"),k()},k=function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&b(c.dropDownCommon).selectpicker("mobile")},l=function(){function a(a,d){startDate=a.format(cbp.pricenoticessPage.dateRange.format),endDate=d.format(cbp.pricenoticessPage.dateRange.format),b(c.ordercalendar).find("span").html(cbp.pricenoticessPage.globalVars.fromAndTo.replace("{0}",startDate).replace("{1}",endDate))}"true"===allpricenoticesFlow&&(cbp.pricenoticessPage.dateRange.startDate=e().subtract(cbp.pricenoticessPage.dateRange.maxMonth,"month")),a(cbp.pricenoticessPage.dateRange.startDate,cbp.pricenoticessPage.dateRange.endDate);var d={};d[cbp.pricenoticessPage.dateRange.today]=[e(),e()],d[cbp.pricenoticessPage.dateRange.yesterday]=[e().subtract(1,"days"),e().subtract(1,"days")],d[cbp.pricenoticessPage.dateRange.last7Days]=[e().subtract(6,"days"),e()],d[cbp.pricenoticessPage.dateRange.last30Days]=[e().subtract(29,"days"),e()],d[cbp.pricenoticessPage.dateRange.thisMonth]=[e().startOf("month"),e().endOf("month")],d[cbp.pricenoticessPage.dateRange.lastMonth]=[e().subtract(1,"month").startOf("month"),e().subtract(1,"month").endOf("month")],b(c.ordercalendar).daterangepicker({startDate:cbp.pricenoticessPage.dateRange.startDate,endDate:cbp.pricenoticessPage.dateRange.endDate,ranges:d,minDate:e().subtract(cbp.pricenoticessPage.dateRange.maxMonth,"month"),maxDate:e(),applyClass:"btn-primary",locale:{format:cbp.pricenoticessPage.dateRange.format,separator:" - ",applyLabel:cbp.pricenoticessPage.dateRange.apply,cancelLabel:cbp.pricenoticessPage.dateRange.cancel,weekLabel:"W",customRangeLabel:cbp.pricenoticessPage.dateRange.customRange,daysOfWeek:e.weekdaysShort(),monthNames:e.monthsShort(),firstDay:e.localeData().firstDayOfWeek()}},a)},m=function(){function a(a){b(c.displaySpinner).hide(),b(c.searchDetailContainer).show(),b(c.pricenoticessSummaryContainer).show(),cbp.pricenoticessPage.pricenoticessResponse=a,cbp.pricenoticessPage.pricenoticessResponse.resultCount>0?cbp.pricenoticessPage.globalVars.pricenoticessFoundVar=cbp.pricenoticessPage.globalVars.pricenoticessFound.replace("{0}",cbp.pricenoticessPage.pricenoticessResponse.resultCount):cbp.pricenoticessPage.globalVars.pricenoticessFoundVar=cbp.pricenoticessPage.globalVars.pricenoticessFound.replace("{0}",0),cbp.pricenoticessPage.dateRange.startDate=e(startDate,cbp.pricenoticessPage.dateRange.format,!0),cbp.pricenoticessPage.dateRange.endDate=e(endDate,cbp.pricenoticessPage.dateRange.format,!0),cbp.pricenoticessPage.globalVars.summaryfromAndToVar=cbp.pricenoticessPage.globalVars.summaryfromAndTo.replace("{0}",cbp.pricenoticessPage.dateRange.startDate.format(cbp.pricenoticessPage.dateRange.format)).replace("{1}",cbp.pricenoticessPage.dateRange.endDate.format(cbp.pricenoticessPage.dateRange.format)),"true"===allpricenoticesFlow||cbp.pricenoticessPage.pricenoticessResponse.resultCount>0&&cbp.pricenoticessPage.pricenoticessResponse.resultCount<maxResults?cbp.pricenoticessPage.showDebitCredit=!0:cbp.pricenoticessPage.showDebitCredit=!1,j(),D(cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList,cbp.pricenoticessPage.pricenoticessResponse.pricenoticessSearchList),leftPaneExpandCollapse.resetSearchFormHeight()}function d(){b(c.displaySpinner).hide(),b(c.searchDetailContainer).show(),b(c.pricenoticessSummaryContainer).show(),console.log("error")}b(c.displaySpinner).show(),b(c.pricenoticessSummaryContainer).hide(),b(c.searchDetailContainer).hide(),leftPaneExpandCollapse.hideSearchBar();var f=[];b(c.pricenoticesTypeDdn).find("option").each(function(){f.push(b(this).val())});var g={};if(g.shipTo=b(c.shipToDdn).val(),g.soldTo=b(c.locationDdn).val(),""!=b(c.pricenoticesNumber).val()&&(g.pricenoticesNumber=parseInt(b(c.pricenoticesNumber).val().trim(),10),b(c.pricenoticesNumber).val(g.pricenoticesNumber)),""!=b(c.orderNumber).val()&&(g.salesOrderNumber=b(c.orderNumber).val().trim(),b(c.orderNumber).val(g.salesOrderNumber)),""!=b(c.poNumber).val()&&(g.poNumber=b(c.poNumber).val().trim(),b(c.poNumber).val(g.poNumber)),g.pricenoticesTypes=[b(c.pricenoticesTypeDdn).val()?""+b(c.pricenoticesTypeDdn).val():f.toString()],g.downloadedStatus=b(c.downloadStatusDdn).val(),g.paymentStatus=b(c.paymentStatusDdn).find("option:selected").text(),g.printed=b(c.printStatusDdn).val(),""!=b(c.pricenoticesNumber).val()||""!=b(c.orderNumber).val()||""!=b(c.poNumber).val()){var h=e().subtract(cbp.pricenoticessPage.dateRange.backDatedRange,"month");h=h.format(cbp.pricenoticessPage.dateRange.format);var i=e();i=i.format(cbp.pricenoticessPage.dateRange.format),g.fromDate=h,g.toDate=i}else g.fromDate=startDate,g.toDate=endDate;"all"!=b(c.shipToDdn).val()?(cbp.pricenoticessPage.showSoldTo=!1,pricenoticessResponse.summaryResponse=pricenoticessResponse.summary.shipTo):(cbp.pricenoticessPage.showSoldTo=!0,pricenoticessResponse.summaryResponse=pricenoticessResponse.summary.soldTo),b.ajax({type:"POST",data:JSON.stringify(g),contentType:"application/json",dataType:"json",url:cbp.pricenoticessPage.globalUrl.pricenoticesPostURL,success:a,error:d})},n=function(){b(c.orderNumber).siblings("label").text(cbp.pricenoticessPage.globalVars.orderNumberNew),b(c.poNumber).siblings("label").text(cbp.pricenoticessPage.globalVars.poNumberNew),cbp.pricenoticessPage.globalVars.orderNumbertb=cbp.pricenoticessPage.globalVars.orderNumbertbNew,cbp.pricenoticessPage.globalVars.customerPOtb=cbp.pricenoticessPage.globalVars.customerPOtbNew},t=function(a){var c=window.location.pathname,d="<form id='downloadForm' method='POST' action='"+c+"/pricenoticesCSV'><input type='hidden' name='selectedpricenoticess' value='"+a+"'/></form>";cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList[b("tr[data-uniqueid='"+a+"']").data("index")].downloaded=!0,b(d).appendTo("body").submit().remove()},u=function(){b(c.downloadBtn).removeClass("disabled"),b(c.printBtn).removeClass("disabled"),w()},v=function(){b(c.downloadBtn).addClass("disabled"),b(c.printBtn).addClass("disabled"),w()},w=function(){var a=selectedProduct.length;a>=0&&(disablePayError=!0);for(var d=0;d<a;d++)productCodes.indexOf(selectedProduct[d])==-1&&(disablePayError=!1);a>0?b(c.payInvBtn).removeClass("disabled"):b(c.payInvBtn).addClass("disabled"),(disablePayError||0===a)&&b(".js-selected-product-error").addClass("hide")},x=function(a){if(null!=a){globalSortList=[{key:"pricenoticesDate-desc",value:cbp.pricenoticessPage.globalVars.pricenoticesDateAsc},{key:"pricenoticesDate-asc",value:cbp.pricenoticessPage.globalVars.pricenoticesDateDesc},{key:"location-asc",value:cbp.pricenoticessPage.globalVars.locationSortAsc},{key:"location-desc",value:cbp.pricenoticessPage.globalVars.locationSortDesc},{key:"orderId-asc",value:cbp.pricenoticessPage.globalVars.orderNumberAsc},{key:"orderId-desc",value:cbp.pricenoticessPage.globalVars.orderNumberDesc},{key:"pricenoticesId-asc",value:cbp.pricenoticessPage.globalVars.pricenoticesNumberAsc},{key:"pricenoticesId-desc",value:cbp.pricenoticessPage.globalVars.pricenoticesNumberDesc},{key:"type-asc",value:cbp.pricenoticessPage.globalVars.pricenoticesTypeAsc},{key:"type-desc",value:cbp.pricenoticessPage.globalVars.pricenoticesTypeDesc},{key:"total-asc",value:cbp.pricenoticessPage.globalVars.totalAsc},{key:"total-desc",value:cbp.pricenoticessPage.globalVars.totalDesc}];var b=globalSortList.reduce(function(a,b){return a[b.key]=b,a},{});console.log(b);var c=Object.keys(b).filter(function(a){if(b[a])return b[a]});console.log(c);var d=Object.keys(a).filter(function(b){if(a[b])return a[b]});console.log(d);var e=function(a){return d.indexOf(a.replace(/\-(asc|desc)/,""))!=-1},f=c.filter(function(a){return e(a)});console.log("fgsdyfgkf",f);var g=[];for(i=0;i<f.length;i++){var h=f[i];console.log(h),g.push(b[h])}return console.log("req res",g),g}},y={options:x(pricenoticessResponse.pricenoticessSearchList),label:cbp.pricenoticessPage.globalVars.sortBy,labelClass:"xs-mr-5",name:"sortByDdn",display:"displayInline"},z=function(a){console.log("Calling in method >>>>>");var d=[];if(1==a.length)cbp.pricenoticessPage.shipToDropDown.singleOption=!0,b(c.searchButton).removeAttr("disabled");else if(a.length>1){var e={};e.key="all",e.value=cbp.pricenoticessPage.globalVars.allTb,d.push(e)}for(var f=0;f<a.length;f++){var e={};e.key=a[f].uid,e.value=a[f].displayName,d.push(e)}cbp.pricenoticessPage.shipToDropDown.options=d,cbp.pricenoticessPage.shipToDropDown.searchable=!0,b(c.shipToDdnContainer).html(o(cbp.pricenoticessPage.shipToDropDown)),b(c.shipToDdn).selectpicker("refresh")},A=function(a,d){function e(a){b(c.displaySpinner).hide();var e=[],f={},g=a;console.log(g),e=g.map(function(a,b){return{key:a.uid,value:a.displayName}}),1==g.length?cbp.pricenoticessPage.shipToDropDown.singleOption=!0:g.length>=1&&(f.key="all",f.value=cbp.pricenoticessPage.globalVars.allTb,e.unshift(f)),console.log("shipToOptions >>>",e),cbp.pricenoticessPage.shipToDropDown.options=e,cbp.pricenoticessPage.shipToDropDown.searchable=!0,b(c.shipToDdnContainer).html(o(cbp.pricenoticessPage.shipToDropDown)),b(c.shipToDdn).selectpicker("refresh"),cbp.pricenoticessPage.shipToDropDown.options.length>1&&b(c.shipToDdn).val(d).selectpicker("refresh");var h=[];if(a.pricenoticesTypeList)for(var i=0;i<a.pricenoticesTypeList.length;i++){var j={};j.key=a.pricenoticesTypeList[i].code,j.value=a.pricenoticesTypeList[i].description,h.push(j)}cbp.pricenoticessPage.pricenoticesTypeDropdown.options=h,b(c.pricenoticessTypeContainer).html(o(cbp.pricenoticessPage.pricenoticesTypeDropdown)),b(c.pricenoticesTypeDdn).selectpicker("refresh")}function f(){b(c.displaySpinner).hide(),console.log("error")}return b(c.displaySpinner).show(),b.ajax({type:"POST",data:{soldToNumber:a},dataType:"json",url:cbp.pricenoticessPage.globalUrl.shipToURL,success:e,error:f})},B=function(){b(document).on("reset-view.bs.table, toggle.bs.table","#table",function(a){a.stopPropagation();for(var c=0;c<selectedpricenoticess.length;c++)b("#table tbody tr[data-uniqueid="+selectedpricenoticess[c]+"]").find("input[type=checkbox]").attr("checked","checked")}),b(document).on("click",c.downloadBtn,function(){f()}),b(document).on("click",c.printBtn,function(){g()}),b(c.locationDdn).on("change",function(a){""!==b(c.locationDdn).val()?b(c.searchButton).removeAttr("disabled"):b(c.searchButton).attr("disabled","disabled"),n(),A(b(c.locationDdn).val(),"all")}),b(document).on("change",c.shipToDdn,function(a){""!==b(this).val()?b(c.searchButton).removeAttr("disabled"):b(c.searchButton).attr("disabled","disabled")}),b(document).on("click",c.downloadIcon,function(a){var c=b("#isInternalUser").val();"true"!=c&&"true"!==inASMSession&&b(a.target).addClass("success-icon"),t(b(a.target).attr("data-pricenoticesId"))}),b(document).on("click",c.printIcon,function(a){var c=b("#isInternalUser").val();"true"!=c&&"true"!==inASMSession&&b(this).addClass("success-icon");var d=b(a.target).attr("data-pricenoticesId");selectedpricenoticess=[d],g()}),b(c.searchButton).on("click",function(a){selectedpricenoticess=[],selectedProduct=[],selectedpricenoticesStatus=[],pricenoticesObj.shipTo=b("#shipToSelectDdn").val(),pricenoticesObj.soldTo=b("#locationSelectDdn").val(),pricenoticesObj.pricenoticesNumber=b("#pricenoticesNumber").val(),pricenoticesObj.salesOrderNumber=b("#orderNumber").val(),pricenoticesObj.poNumber=b("#poNumber").val(),pricenoticesObj.pricenoticesTypes=b("#pricenoticesTypeDdn").val(),pricenoticesObj.downloadStatus=b("#downloadStatus").val(),pricenoticesObj.printStatus=b("#printStatus").val(),pricenoticesObj.paymentStatus=b("#paymentStatusDdn").val(),pricenoticesObj.startDate=startDate,pricenoticesObj.endDate=endDate,b(".alert-danger").addClass("hide"),m()});var a=".js-search-form input,"+c.printStatusContainer+","+c.locationDdnContainer+","+c.downloadStatusContainer+","+c.pickDateRangeContainer;b(document).on("keypress",a,function(a){13==a.which&&(a.preventDefault(),b("#pricenoticessSearch").trigger("click"))});var d=c.pricenoticesNumber+","+c.orderNumber;b(document).on("keypress",d,function(a){var b=/^[0-9]+$/,c=String.fromCharCode(a.which);return!!c.match(b)||(a.preventDefault(),!1)})},C=function(a){if(null!=a){var b=Object.keys(a).filter(function(b){if(a[b])return a[b]});console.log("columns to be seen",b);var c=[{field:"checkbox",checkbox:!0,"class":"fa",formatter:function(a,b,c){return'<input type="hidden" name="type" value="'+b.type+"@"+b.cbppricenoticesStatus+'">'}},{field:"status",title:cbp.pricenoticessPage.globalVars.statustb,titleTooltip:cbp.pricenoticessPage.globalVars.statustb,"class":"text-nowrap",formatter:function(a,b,c){var d,e,f="",g="";return b.downloaded&&"true"!==inASMSession&&(f="success-icon"),b.printed&&"true"!==inASMSession&&(g="success-icon"),d="<span class='fa fa-download iconsPrintDownload xs-pr-10 "+f+"' data-pricenoticesId='"+b.pricenoticesId+"'></span>",e="<span class='fa fa-print iconspricenoticesPrint "+g+"' data-pricenoticesId='"+b.pricenoticesId+"'></span>",d+e}},{field:"location",title:cbp.pricenoticessPage.globalVars.locationtb,titleTooltip:cbp.pricenoticessPage.globalVars.locationtb,sortable:!0},{field:"pricenoticesDate",title:cbp.pricenoticessPage.globalVars.pickDatetb,titleTooltip:cbp.pricenoticessPage.globalVars.pickDatetb,"class":"numberIcon text-nowrap",sorter:function(a,b){return a=e(a,cbp.pricenoticessPage.dateRange.format,!0).format(),b=e(b,cbp.pricenoticessPage.dateRange.format,!0).format(),a<b?-1:a>b?1:0},sortable:!0,align:"right"},{field:"purchaseOrderNumber",title:cbp.pricenoticessPage.globalVars.orderNumbertb+"<br> <i>"+cbp.pricenoticessPage.globalVars.customerPOtb+"</i>",titleTooltip:cbp.pricenoticessPage.globalVars.orderNumbertb,"class":"numberIcon text-nowrap",sortable:!0,formatter:function(a,b,c){var d,e;return d="ZOOR"==b.salesOrderType&&orderAvailable&&!cbp.pricenoticessPage.isNARegion?'<a href="javascript:void(0);" onclick="goToOrderDetails(\''+b.orderId+"')\">"+b.orderId+"</a>":b.orderId,e=void 0===b.purchaseOrderNumber||null===b.purchaseOrderNumber?"":"<br> <i>"+b.purchaseOrderNumber+"</i>",d+e}},{field:"pricenoticesId",title:cbp.pricenoticessPage.globalVars.pricenoticestb+(showLegal?"<br> <i>"+cbp.pricenoticessPage.globalVars.legalpricenoticestb+"</i>":""),titleTooltip:cbp.pricenoticessPage.globalVars.pricenoticestb,"class":"numberIcon text-nowrap",sortable:!0,formatter:function(a,b,c){var d,e;return d='<a href="javascript:void(0);" onclick="callpricenoticesPDFLink(\''+b.pricenoticesId+"')\">"+b.pricenoticesId+"</a>",e=void 0===b.legalDocumentNumber||null===b.legalDocumentNumber?"":showLegal?"<br> <i>"+b.legalDocumentNumber+"</i>":"",d+e}},{field:"type",title:cbp.pricenoticessPage.globalVars.docTypetb,titleTooltip:cbp.pricenoticessPage.globalVars.docTypetb,"class":cbp.pricenoticessPage.isNARegion?"":"text-nowrap",sortable:!0,formatter:function(a,b,c){return pricenoticesTypeMapper[a]}},{field:"total",title:cbp.pricenoticessPage.globalVars.totaltb+(""===cbp.pricenoticessPage.pricenoticessResponse.currency?"":" ("+cbp.pricenoticessPage.pricenoticessResponse.currency+")")+("true"==ccPaymentEligible?"<br> <i>"+cbp.pricenoticessPage.globalVars.paymentStatustb+"</i>":""),titleTooltip:cbp.pricenoticessPage.globalVars.totaltb+" ("+cbp.pricenoticessPage.pricenoticessResponse.currency+")","class":"numberIcon text-nowrap",sortable:!0,align:"right",sorter:function(a,b){return null!==a&&null!==b&&(a=parseFloat(a),b=parseFloat(b)),a<b?-1:a>b?1:0},formatter:function(a,b,c){var d,e;return d=a>="0"?b.displayTotal:"<span class='text-danger'>"+b.displayTotal+"</span>",e=void 0===b.cbppricenoticesStatus||null===b.cbppricenoticesStatus||"false"==ccPaymentEligible||"00"===b.cbppricenoticesStatus?"":"<br> <i><span class='text-danger'>"+pricenoticesStatusMapper[b.cbppricenoticesStatus]+"</span></i>",d+e}},{field:"eftNumber",title:cbp.pricenoticessPage.globalVars.eftNumber,titleTooltip:cbp.pricenoticessPage.globalVars.eftNumber,"class":"text-nowrap",sortable:!0,visible:cbp.pricenoticessPage.showEFT,formatter:function(a,b,c){return'<a href="javascript:void(0);" onclick="goToEftDetails(\''+a+"', '"+b.fiscalYear+"')\">"+a+"</a>"}},{field:"deliveryDate",title:cbp.pricenoticessPage.globalVars.deliveryDate,titleTooltip:cbp.pricenoticessPage.globalVars.deliveryDate,"class":"text-nowrap",visible:cbp.pricenoticessPage.showDeliveryDate,sortable:!0}],d=c.reduce(function(a,b){return a[b.field]=b,a},{});orderKey=["checkbox","status","location","pricenoticesDate","pricenoticesId","type","purchaseOrderNumber","total"],console.log("Required order",orderKey);for(var f=[],g=0;g<orderKey.length;g++)for(var h=0;h<b.length;h++)if(orderKey[g]==b[h]){var i=orderKey[g];f.push(d[i])}return f}},D=function(a,d){var e=0;cbp.pricenoticessPage.pricenoticessResponse.resultCount>maxResults&&null===cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList?(cbp.pricenoticessPage.globalVars.tableLocales.noMatches=cbp.pricenoticessPage.globalVars.noMatchesMaxResults.replace("{0}",cbp.pricenoticessPage.pricenoticessResponse.resultCount),a=[]):0===cbp.pricenoticessPage.pricenoticessResponse.resultCount?cbp.pricenoticessPage.globalVars.tableLocales.noMatches=cbp.pricenoticessPage.globalVars.noMatches:cbp.pricenoticessPage.pricenoticessResponse.resultCount>maxResults&&"true"!=allpricenoticesFlow&&(cbp.pricenoticessPage.globalVars.tableLocales.noMatches=cbp.pricenoticessPage.globalVars.noMatchesMaxResults.replace("{0}",cbp.pricenoticessPage.pricenoticessResponse.resultCount),a=[]),null!==a&&void 0!==a||(a=[]),b(c.sortByDdn).val("pricenoticesDate-desc").selectpicker("refresh"),b("#table").bootstrapTable({classes:"table table-no-bordered",striped:!0,sortName:"pricenoticesDate",uniqueId:"pricenoticesId",sortOrder:"desc",iconsPrefix:"fa",sortable:!0,parentContainer:".js-bottom-detail",sortByDropdownId:"#sortByDdn",responsive:!0,responsiveBreakPoint:768,responsiveClass:"bootstrap-table-cardview",onCheck:function(a,b){selectedpricenoticess.push(a.pricenoticesId),selectedProduct.push(a.type),selectedpricenoticesStatus.push(a.cbppricenoticesStatus),pricenoticesTotalSum+=a.total,pricenoticesStatusCodes.indexOf(a.cbppricenoticesStatus)>-1&&(e+=1),e>0&&(enablepricenoticesError=!0),enableTotalError=pricenoticesTotalSum<=0,u()},onCheckAll:function(a){selectedpricenoticess=[],selectedProduct=[],selectedpricenoticesStatus=[];for(var b=a.length,c=0;c<b;c++)selectedpricenoticess.push(a[c].pricenoticesId),selectedProduct.push(a[c].type),selectedpricenoticesStatus.push(a[c].cbppricenoticesStatus),pricenoticesTotalSum+=a[c].total,pricenoticesStatusCodes.indexOf(a[c].cbppricenoticesStatus)>-1&&(e+=1),e>0&&(enablepricenoticesError=!0);pricenoticesTotalSum<=0&&(enableTotalError=!0),a.length&&u()},onUncheck:function(a,d){var f=selectedpricenoticess.indexOf(a.pricenoticesId);pricenoticesTotalSum-=a.total,f>-1&&(selectedpricenoticess.splice(f,1),selectedProduct.splice(f,1),selectedpricenoticesStatus.splice(f,1),w()),b(c.tabelRow).hasClass("selected")||v(),pricenoticesStatusCodes.indexOf(a.cbppricenoticesStatus)>-1&&(e-=1),e<=0&&(enablepricenoticesError=!1,b(".js-selected-pricenotices-error").addClass("hide")),pricenoticesTotalSum>=0?(enableTotalError=!1,b(".js-total-amount-error").addClass("hide")):enableTotalError=!0,d.parents("tr").removeClass("bg-danger")},onUncheckAll:function(a){selectedpricenoticess=[],selectedProduct=[],selectedpricenoticesStatus=[],e=0,pricenoticesTotalSum=0,enablepricenoticesError=!1,enableTotalError=!1,b(".js-selected-pricenotices-error").addClass("hide"),b(".js-total-amount-error").addClass("hide"),v(),b("#table tbody").find("tr").removeClass("bg-danger")},columns:C(d),data:a})};return{init:d}}();b(document).ready(function(){b.fn.selectpicker.defaults={noneSelectedText:cbp.pricenoticessPage.globalVars.selectDdn.noneSelectedText,noneResultsText:cbp.pricenoticessPage.globalVars.selectDdn.noneResultsText,countSelectedText:function(a,b){return 1==a?cbp.pricenoticessPage.globalVars.selectDdn.itemSelected:cbp.pricenoticessPage.globalVars.selectDdn.itemSelected1},maxOptionsText:function(a,b){return[1==a?cbp.pricenoticessPage.globalVars.selectDdn.limitReached:cbp.pricenoticessPage.globalVars.selectDdn.limitReached1,1==b?cbp.pricenoticessPage.globalVars.selectDdn.groupLimit:cbp.pricenoticessPage.globalVars.selectDdn.groupLimit1]},selectAllText:cbp.pricenoticessPage.globalVars.selectDdn.selectAllText,deselectAllText:cbp.pricenoticessPage.globalVars.selectDdn.deselectAllText},b.fn.bootstrapTable.locales={formatLoadingMessage:function(){return cbp.pricenoticessPage.globalVars.tableLocales.loadingMessage},formatRecordsPerPage:function(a){return cbp.pricenoticessPage.globalVars.tableLocales.recordsPerPage.replace("{0}",a)},formatShowingRows:function(a,b,c){return cbp.pricenoticessPage.globalVars.tableLocales.showingRows.replace("{0}",a).replace("{1}",b).replace("{2}",c)},formatSearch:function(){return cbp.pricenoticessPage.globalVars.tableLocales.search},formatNoMatches:function(){return cbp.pricenoticessPage.globalVars.tableLocales.noMatches},formatPaginationSwitch:function(){return cbp.pricenoticessPage.globalVars.tableLocales.paginationSwitch},formatRefresh:function(){return cbp.pricenoticessPage.globalVars.tableLocales.refresh},formatToggle:function(){return cbp.pricenoticessPage.globalVars.tableLocales.toggle},formatColumns:function(){return cbp.pricenoticessPage.globalVars.tableLocales.columns},formatAllRows:function(){return cbp.pricenoticessPage.globalVars.tableLocales.allRows}},b.extend(b.fn.bootstrapTable.defaults,b.fn.bootstrapTable.locales),"false"==noCardsAdded&&"false"==allCardsExpired&&"true"==ccPaymentEligible&&"true"==showPaypricenotices?cbp.pricenoticessPage.showHidepricenoticesBtn="false":cbp.pricenoticessPage.showHidepricenoticesBtn="true",leftPaneExpandCollapse.init(),cbp.pricenoticessPage.showSoldTo=!0,cbp.pricenoticessPage.pricenoticessResponse=pricenoticessResponse,void 0===pricenoticessResponse.resultCount||null===pricenoticessResponse.resultCount?(cbp.pricenoticessPage.pricenoticessResponse.resultCount=0,cbp.pricenoticessPage.globalVars.pricenoticessFoundVar=cbp.pricenoticessPage.globalVars.pricenoticessFound.replace("{0}",0)):cbp.pricenoticessPage.globalVars.pricenoticessFoundVar=cbp.pricenoticessPage.globalVars.pricenoticessFound.replace("{0}",pricenoticessResponse.resultCount),void 0!==pricenoticessResponse.pricenoticessDataList&&null!==pricenoticessResponse.pricenoticessDataList||(cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList=[]),"true"===allpricenoticesFlow||cbp.pricenoticessPage.pricenoticessResponse.resultCount>0&&cbp.pricenoticessPage.pricenoticessResponse.resultCount<maxResults?cbp.pricenoticessPage.showDebitCredit=!0:cbp.pricenoticessPage.showDebitCredit=!1,cbp.pricenoticessPage.dateRange.startDate=e().subtract(pastSelectableDate,"days"),cbp.pricenoticessPage.dateRange.endDate=e(),"true"===allpricenoticesFlow&&(cbp.pricenoticessPage.dateRange.startDate=e().subtract(cbp.pricenoticessPage.dateRange.maxMonth,"month")),cbp.pricenoticessPage.globalVars.summaryfromAndToVar=cbp.pricenoticessPage.globalVars.summaryfromAndTo.replace("{0}",cbp.pricenoticessPage.dateRange.startDate.format(cbp.pricenoticessPage.dateRange.format)).replace("{1}",cbp.pricenoticessPage.dateRange.endDate.format(cbp.pricenoticessPage.dateRange.format)),cbp.pricenoticessPage.ccPaymentEligible=ccPaymentEligible,cbp.pricenoticessPage.isNARegion=isNARegion,cbp.pricenoticessPage.isNARegion?(cbp.pricenoticessPage.showDeliveryDate=!0,cbp.pricenoticessPage.showEFT=!0):(cbp.pricenoticessPage.showDeliveryDate=!1,cbp.pricenoticessPage.showEFT=!1),t.init()})});for(var locationDropDownOptions=[],startDate,endDate,pricenoticesObj={},pricenoticesTotalSum=0,i=0;i<locationDropDown.length;i++){
var obj={};obj.key=locationDropDown[i].soldToNumber,obj.value=locationDropDown[i].soldToAddress,locationDropDownOptions.push(obj)}if(cbp.pricenoticessPage.locationDropDown.options=locationDropDownOptions,cbp.pricenoticessPage.locationDropDown.searchable=!0,paymentStatusDropdownOptions.length>1){var obj={};obj.key="all",obj.value=cbp.pricenoticessPage.paymentStatusDropdown.title,paymentStatusDropdownOptions.unshift(obj)}cbp.pricenoticessPage.paymentStatusDropdown.options=paymentStatusDropdownOptions;var selectedpricenoticess=[],selectedProduct=[],selectedpricenoticesStatus=[],disablePayError=!1,enablepricenoticesError=!1,enableTotalError=!1;require(["modernizr","jquery","bootstrap","handlebars","moment","calendar","bootstrap-select","bootstrap-table","text!app/components/calendar/_calendar.hbs","text!app/components/dropdown/_defaultDdn.hbs","text!app/page/pricenoticess/searchForm.hbs","text!app/page/pricenoticess/pricenoticessSummary.hbs","text!app/page/pricenoticess/bottomDetail.hbs"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=d.compile(j),o=d.compile(i),p=d.compile(k),q=d.compile(l),r=d.compile(m),s=function(){var a={options:[{key:"pricenoticesDate-desc",value:cbp.pricenoticessPage.globalVars.pricenoticesDateAsc},{key:"pricenoticesDate-asc",value:cbp.pricenoticessPage.globalVars.pricenoticesDateDesc},{key:"location-asc",value:cbp.pricenoticessPage.globalVars.locationSortAsc},{key:"location-desc",value:cbp.pricenoticessPage.globalVars.locationSortDesc},{key:"orderId-asc",value:cbp.pricenoticessPage.globalVars.orderNumberAsc},{key:"orderId-desc",value:cbp.pricenoticessPage.globalVars.orderNumberDesc},{key:"pricenoticesId-asc",value:cbp.pricenoticessPage.globalVars.pricenoticesNumberAsc},{key:"pricenoticesId-desc",value:cbp.pricenoticessPage.globalVars.pricenoticesNumberDesc},{key:"type-asc",value:cbp.pricenoticessPage.globalVars.pricenoticesTypeAsc},{key:"type-desc",value:cbp.pricenoticessPage.globalVars.pricenoticesTypeDesc},{key:"total-asc",value:cbp.pricenoticessPage.globalVars.totalAsc},{key:"total-desc",value:cbp.pricenoticessPage.globalVars.totalDesc}],label:cbp.pricenoticessPage.globalVars.sortBy,labelClass:"xs-mr-5",name:"sortByDdn",display:"displayInline"},c={locationDdnContainer:".js-location-ddn",shipToDdnContainer:".js-shipTo-ddn",pricenoticessSummaryContainer:".js-pricenoticess-summary",pricenoticessTypeContainer:".js-pricenoticessType-ddn",paymentStatusContainer:".js-paymentStatus-ddn",downloadStatusContainer:".js-downloadStatus-ddn",printStatusContainer:".js-printStatus-ddn",pickDateRangeContainer:".js-search-pickDateRange",searchFormContainer:".js-search-form",searchDetailContainer:".js-bottom-detail",sortByDdnContainer:".js-sortbyDdn",dropDownCommon:".selectpicker",ordercalendar:"#calendar",searchButton:"#pricenoticessSearch",tabelRow:"#table tbody tr",downloadBtn:".js-downloadBtn",printBtn:".js-printBtn",payInvBtn:".js-payInvBtn",pricenoticesTypeDdn:"#pricenoticesTypeDdn",paymentStatusDdn:"#paymentStatusDdn",locationDdn:"#locationSelectDdn",shipToDdn:"#shipToSelectDdn",downloadStatusDdn:"#downloadStatus",printStatusDdn:"#printStatus",sortByDdn:"#sortByDdn",displaySpinner:".overlay-wrapper",dropdownSelect:".dropdown-menu .toggle-select",pricenoticesNumber:"#pricenoticesNumber",orderNumber:"#orderNumber",poNumber:"#poNumber",squareUnchecked:"fa-square-o",squareChecked:"fa-check-square-o",downloadIcon:".iconsPrintDownload",printIcon:".iconspricenoticesPrint"},d=function(){if(h(),1==cbp.pricenoticessPage.locationDropDown.options.length?x(b(c.locationDdn).val(),"all"):cbp.pricenoticessPage.locationDropDown.options.length>1&&(b(c.shipToDdn).attr("disabled","disabled").selectpicker("refresh"),b(c.searchButton).attr("disabled","disabled")),b(c.locationDdn).selectpicker("refresh"),"true"===allpricenoticesFlow&&(b(c.downloadStatusDdn).val("notDownloaded").selectpicker("refresh"),b(c.printStatusDdn).val("notPrinted").selectpicker("refresh")),void 0!==localStorage.getItem("pricenoticesObj")&&null!==localStorage.getItem("pricenoticesObj")&&isPaymentFlow){var a=JSON.parse(localStorage.getItem("pricenoticesObj"));startDate=a.startDate,endDate=a.endDate,cbp.pricenoticessPage.dateRange.startDate=e(startDate,cbp.pricenoticessPage.dateRange.format,!0),cbp.pricenoticessPage.dateRange.endDate=e(endDate,cbp.pricenoticessPage.dateRange.format,!0),b(c.pricenoticesNumber).val(a.pricenoticesNumber),b(c.orderNumber).val(a.salesOrderNumber),b(c.poNumber).val(a.poNumber),b(c.pricenoticesTypeDdn).val(a.pricenoticesTypes).selectpicker("refresh"),b(c.paymentStatusDdn).val(a.paymentStatus).selectpicker("refresh"),b(c.downloadStatusDdn).val(a.downloadStatus).selectpicker("refresh"),b(c.printStatusDdn).val(a.printStatus).selectpicker("refresh"),b(c.locationDdn).val(a.soldTo).selectpicker("refresh"),b.when(x(a.soldTo,a.shipTo)).then(function(a){l()}),localStorage.removeItem("pricenoticesObj"),b(c.searchButton).removeAttr("disabled")}else z(cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList);k(),y(),"true"===noCardsAdded&&"true"===ccPaymentEligible?b(".js-card-error").removeClass("hide"):"true"===allCardsExpired&&"true"===ccPaymentEligible&&b(".js-card-expired-error").removeClass("hide")},f=function(){b("#pricenoticesForm #selectedpricenoticess").val(selectedpricenoticess.toString());for(var a=0;len=selectedpricenoticess.length,a<len;a++)b(".iconsPrintDownload[data-pricenoticesid='"+selectedpricenoticess[a]+"']").addClass("success-icon"),cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList[b("tr[data-uniqueid='"+selectedpricenoticess[a]+"']").data("index")].downloaded=!0;b("#pricenoticesForm").submit()},g=function(){b("#pricenoticesForm #selectedpricenoticess").val(selectedpricenoticess.toString());var a=b("#contextPath").val()+"/pricenoticess/pricenoticesListPDF",c=b("#pricenoticesForm").attr("action");b("#pricenoticesForm").attr("action",a),b("#pricenoticesForm").attr("target","_blank");for(var d=0;len=selectedpricenoticess.length,d<len;d++)b(".iconspricenoticesPrint[data-pricenoticesid='"+selectedpricenoticess[d]+"']").addClass("success-icon"),cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList[b("tr[data-uniqueid='"+selectedpricenoticess[d]+"']").data("index")].printed=!0;b("#pricenoticesForm").submit(),b("#pricenoticesForm").attr("action",c),b("#pricenoticesForm").removeAttr("target")},h=function(){b(c.searchFormContainer).html(p(cbp.pricenoticessPage)),b(c.locationDdnContainer).html(n(cbp.pricenoticessPage.locationDropDown)),b(c.shipToDdnContainer).html(n(cbp.pricenoticessPage.shipToDropDown)),b(c.downloadStatusContainer).html(n(cbp.pricenoticessPage.downloadStatusDropdown)),b(c.pricenoticessTypeContainer).html(n(cbp.pricenoticessPage.pricenoticesTypeDropdown)),b(c.paymentStatusContainer).html(n(cbp.pricenoticessPage.paymentStatusDropdown)),b(c.printStatusContainer).html(n(cbp.pricenoticessPage.printStatusDropdown)),b(c.pickDateRangeContainer).html(o({label:cbp.pricenoticessPage.globalVars.pickDateRange,iconClass:cbp.pricenoticessPage.dateRange.iconClass,id:cbp.pricenoticessPage.dateRange.id})),i(),b(c.dropDownCommon).selectpicker("refresh"),j(),b(c.displaySpinner).hide()},i=function(){b(c.pricenoticessSummaryContainer).html(q(cbp.pricenoticessPage)),b(c.searchDetailContainer).html(r(cbp.pricenoticessPage)),b(c.sortByDdnContainer).html(n(a)),b(c.sortByDdnContainer).find(c.dropDownCommon).selectpicker("refresh"),j()},j=function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&b(c.dropDownCommon).selectpicker("mobile")},k=function(){function a(a,d){startDate=a.format(cbp.pricenoticessPage.dateRange.format),endDate=d.format(cbp.pricenoticessPage.dateRange.format),b(c.ordercalendar).find("span").html(cbp.pricenoticessPage.globalVars.fromAndTo.replace("{0}",startDate).replace("{1}",endDate))}"true"===allpricenoticesFlow&&(cbp.pricenoticessPage.dateRange.startDate=e().subtract(cbp.pricenoticessPage.dateRange.maxMonth,"month")),a(cbp.pricenoticessPage.dateRange.startDate,cbp.pricenoticessPage.dateRange.endDate);var d={};d[cbp.pricenoticessPage.dateRange.today]=[e(),e()],d[cbp.pricenoticessPage.dateRange.yesterday]=[e().subtract(1,"days"),e().subtract(1,"days")],d[cbp.pricenoticessPage.dateRange.last7Days]=[e().subtract(6,"days"),e()],d[cbp.pricenoticessPage.dateRange.last30Days]=[e().subtract(29,"days"),e()],d[cbp.pricenoticessPage.dateRange.thisMonth]=[e().startOf("month"),e().endOf("month")],d[cbp.pricenoticessPage.dateRange.lastMonth]=[e().subtract(1,"month").startOf("month"),e().subtract(1,"month").endOf("month")],b(c.ordercalendar).daterangepicker({startDate:cbp.pricenoticessPage.dateRange.startDate,endDate:cbp.pricenoticessPage.dateRange.endDate,ranges:d,minDate:e().subtract(cbp.pricenoticessPage.dateRange.maxMonth,"month"),maxDate:e(),applyClass:"btn-primary",locale:{format:cbp.pricenoticessPage.dateRange.format,separator:" - ",applyLabel:cbp.pricenoticessPage.dateRange.apply,cancelLabel:cbp.pricenoticessPage.dateRange.cancel,weekLabel:"W",customRangeLabel:cbp.pricenoticessPage.dateRange.customRange,daysOfWeek:e.weekdaysShort(),monthNames:e.monthsShort(),firstDay:e.localeData().firstDayOfWeek()}},a)},l=function(){function a(a){b(c.displaySpinner).hide(),b(c.searchDetailContainer).show(),b(c.pricenoticessSummaryContainer).show(),cbp.pricenoticessPage.pricenoticessResponse=a,cbp.pricenoticessPage.pricenoticessResponse.resultCount>0?cbp.pricenoticessPage.globalVars.pricenoticessFoundVar=cbp.pricenoticessPage.globalVars.pricenoticessFound.replace("{0}",cbp.pricenoticessPage.pricenoticessResponse.resultCount):cbp.pricenoticessPage.globalVars.pricenoticessFoundVar=cbp.pricenoticessPage.globalVars.pricenoticessFound.replace("{0}",0),cbp.pricenoticessPage.dateRange.startDate=e(startDate,cbp.pricenoticessPage.dateRange.format,!0),cbp.pricenoticessPage.dateRange.endDate=e(endDate,cbp.pricenoticessPage.dateRange.format,!0),cbp.pricenoticessPage.globalVars.summaryfromAndToVar=cbp.pricenoticessPage.globalVars.summaryfromAndTo.replace("{0}",cbp.pricenoticessPage.dateRange.startDate.format(cbp.pricenoticessPage.dateRange.format)).replace("{1}",cbp.pricenoticessPage.dateRange.endDate.format(cbp.pricenoticessPage.dateRange.format)),"true"===allpricenoticesFlow||cbp.pricenoticessPage.pricenoticessResponse.resultCount>0&&cbp.pricenoticessPage.pricenoticessResponse.resultCount<maxResults?cbp.pricenoticessPage.showDebitCredit=!0:cbp.pricenoticessPage.showDebitCredit=!1,i(),z(cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList),leftPaneExpandCollapse.resetSearchFormHeight()}function d(){b(c.displaySpinner).hide(),b(c.searchDetailContainer).show(),b(c.pricenoticessSummaryContainer).show(),console.log("error")}b(c.displaySpinner).show(),b(c.pricenoticessSummaryContainer).hide(),b(c.searchDetailContainer).hide(),leftPaneExpandCollapse.hideSearchBar();var f=[];b(c.pricenoticesTypeDdn).find("option").each(function(){f.push(b(this).val())});var g={};if(g.shipTo=b(c.shipToDdn).val(),g.soldTo=null===b(c.locationDdn).val()?"null":b(c.locationDdn).val().toString(),b(c.pricenoticesNumber).length>0&&(g.pricenoticesNumber=b(c.pricenoticesNumber).val().trim(),b(c.pricenoticesNumber).val(g.pricenoticesNumber)),b(c.orderNumber).length>0&&(g.salesOrderNumber=b(c.orderNumber).val().trim(),b(c.orderNumber).val(g.salesOrderNumber)),b(c.poNumber).length>0&&(g.poNumber=b(c.poNumber).val().trim(),b(c.poNumber).val(g.poNumber)),g.pricenoticesTypes=b(c.pricenoticesTypeDdn).val()?""+b(c.pricenoticesTypeDdn).val():f.toString(),g.downloadStatus=b(c.downloadStatusDdn).val(),g.paymentStatus=b(c.paymentStatusDdn).val(),g.printStatus=b(c.printStatusDdn).val(),""!=b(c.pricenoticesNumber).val()||""!=b(c.orderNumber).val()||""!=b(c.poNumber).val()){var h=e().subtract(cbp.pricenoticessPage.dateRange.backDatedRange,"month");h=h.format(cbp.pricenoticessPage.dateRange.format);var j=e();j=j.format(cbp.pricenoticessPage.dateRange.format),g.fromDate=h,g.toDate=j}else g.fromDate=startDate,g.toDate=endDate;"all"!=b(c.shipToDdn).val()?cbp.pricenoticessPage.showSoldTo=!1:cbp.pricenoticessPage.showSoldTo=!0,b.ajax({type:cbp.pricenoticessPage.globalUrl.method,data:g,url:cbp.pricenoticessPage.globalUrl.pricenoticesPostURL,success:a,error:d})},m=function(a){"1000"==a?(b(c.orderNumber).siblings("label").text(cbp.pricenoticessPage.globalVars.altRefNumber),b(c.poNumber).siblings("label").text(cbp.pricenoticessPage.globalVars.originalDocNumber),cbp.pricenoticessPage.globalVars.orderNumbertb=cbp.pricenoticessPage.globalVars.altRefNumbertb,cbp.pricenoticessPage.globalVars.customerPOtb=cbp.pricenoticessPage.globalVars.originalDocNumbertb):(b(c.orderNumber).siblings("label").text(cbp.pricenoticessPage.globalVars.orderNumberNew),b(c.poNumber).siblings("label").text(cbp.pricenoticessPage.globalVars.poNumberNew),cbp.pricenoticessPage.globalVars.orderNumbertb=cbp.pricenoticessPage.globalVars.orderNumbertbNew,cbp.pricenoticessPage.globalVars.customerPOtb=cbp.pricenoticessPage.globalVars.customerPOtbNew)},s=function(a){for(var b=0,c=locationDropDown.length;c>b&&locationDropDown[b].soldToNumber!=a;b++);return locationDropDown[b].salesOrg},t=function(a){var c=window.location.pathname,d="<form id='downloadForm' method='POST' action='"+c+"/pricenoticesCSV'><input type='hidden' name='selectedpricenoticess' value='"+a+"'/></form>";cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList[b("tr[data-uniqueid='"+a+"']").data("index")].downloaded=!0,b(d).appendTo("body").submit().remove()},u=function(){b(c.downloadBtn).removeClass("disabled"),b(c.printBtn).removeClass("disabled"),w()},v=function(){b(c.downloadBtn).addClass("disabled"),b(c.printBtn).addClass("disabled"),w()},w=function(){var a=selectedProduct.length;a>=0&&(disablePayError=!0);for(var d=0;a>d;d++)-1==productCodes.indexOf(selectedProduct[d])&&(disablePayError=!1);a>0?b(c.payInvBtn).removeClass("disabled"):b(c.payInvBtn).addClass("disabled"),(disablePayError||0===a)&&b(".js-selected-product-error").addClass("hide")},x=function(a,d){function e(a){b(c.displaySpinner).hide();var e=[],f={},g=a.marketerLocation;1==g.length?cbp.pricenoticessPage.shipToDropDown.singleOption=!0:g.length>1&&(f.key="all",f.value=cbp.pricenoticessPage.globalVars.allLocation,e.push(f));for(var h=0;h<g.length;h++)f={},f.key=g[h].shipToNumber,f.value=g[h].shipToAddress,e.push(f);cbp.pricenoticessPage.shipToDropDown.options=e,cbp.pricenoticessPage.shipToDropDown.searchable=!0,b(c.shipToDdnContainer).html(n(cbp.pricenoticessPage.shipToDropDown)),b(c.shipToDdn).selectpicker("refresh"),cbp.pricenoticessPage.shipToDropDown.options.length>1&&b(c.shipToDdn).val(d).selectpicker("refresh");for(var i=[],h=0;h<a.pricenoticesTypeList.length;h++){var j={};j.key=a.pricenoticesTypeList[h].code,j.value=a.pricenoticesTypeList[h].description,i.push(j)}cbp.pricenoticessPage.pricenoticesTypeDropdown.options=i,b(c.pricenoticessTypeContainer).html(n(cbp.pricenoticessPage.pricenoticesTypeDropdown)),b(c.pricenoticesTypeDdn).selectpicker("refresh")}function f(){b(c.displaySpinner).hide(),console.log("error")}return b(c.displaySpinner).show(),b.ajax({type:cbp.pricenoticessPage.globalUrl.method,data:{soldToNumber:a},url:cbp.pricenoticessPage.globalUrl.shipToURL,success:e,error:f})},y=function(){b(document).on("reset-view.bs.table, toggle.bs.table","#table",function(a){a.stopPropagation();for(var c=0;c<selectedpricenoticess.length;c++)b("#table tbody tr[data-uniqueid="+selectedpricenoticess[c]+"]").find("input[type=checkbox]").attr("checked","checked")}),b(document).on("click",c.downloadBtn,function(){f()}),b(document).on("click",c.printBtn,function(){g()}),b(c.locationDdn).on("change",function(a){""!==b(c.locationDdn).val()?b(c.searchButton).removeAttr("disabled"):b(c.searchButton).attr("disabled","disabled");var d=s(b(this).val());m(d),x(b(c.locationDdn).val(),"all")}),b(document).on("change",c.shipToDdn,function(a){}),b(document).on("click",c.downloadIcon,function(a){var c=b("#isInternalUser").val();"true"!=c&&"true"!==inASMSession&&b(a.target).addClass("success-icon"),t(b(a.target).attr("data-pricenoticesId"))}),b(document).on("click",c.printIcon,function(a){var c=b("#isInternalUser").val();"true"!=c&&"true"!==inASMSession&&b(this).addClass("success-icon"),callpricenoticesPDF(b(a.target).attr("data-pricenoticesId"))}),b(c.searchButton).on("click",function(a){selectedpricenoticess=[],selectedProduct=[],selectedpricenoticesStatus=[],pricenoticesObj.shipTo=b("#shipToSelectDdn").val(),pricenoticesObj.soldTo=b("#locationSelectDdn").val(),pricenoticesObj.pricenoticesNumber=b("#pricenoticesNumber").val(),pricenoticesObj.salesOrderNumber=b("#orderNumber").val(),pricenoticesObj.poNumber=b("#poNumber").val(),pricenoticesObj.pricenoticesTypes=b("#pricenoticesTypeDdn").val(),pricenoticesObj.downloadStatus=b("#downloadStatus").val(),pricenoticesObj.printStatus=b("#printStatus").val(),pricenoticesObj.paymentStatus=b("#paymentStatusDdn").val(),pricenoticesObj.startDate=startDate,pricenoticesObj.endDate=endDate,b(".alert-danger").addClass("hide"),l()});var a=".js-search-form input,"+c.printStatusContainer+","+c.locationDdnContainer+","+c.downloadStatusContainer+","+c.pickDateRangeContainer;b(document).on("keypress",a,function(a){13==a.which&&(a.preventDefault(),b("#pricenoticessSearch").trigger("click"))});var d=c.pricenoticesNumber+","+c.orderNumber;b(document).on("keypress",d,function(a){var b=/^[0-9]+$/,c=String.fromCharCode(a.which);return!!c.match(b)||(a.preventDefault(),!1)})},z=function(a){var d=0;cbp.pricenoticessPage.pricenoticessResponse.resultCount>maxResults&&null===cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList?(cbp.pricenoticessPage.globalVars.tableLocales.noMatches=cbp.pricenoticessPage.globalVars.noMatchesMaxResults.replace("{0}",cbp.pricenoticessPage.pricenoticessResponse.resultCount),a=[]):0===cbp.pricenoticessPage.pricenoticessResponse.resultCount?cbp.pricenoticessPage.globalVars.tableLocales.noMatches=cbp.pricenoticessPage.globalVars.noMatches:cbp.pricenoticessPage.pricenoticessResponse.resultCount>maxResults&&"true"!=allpricenoticesFlow&&(cbp.pricenoticessPage.globalVars.tableLocales.noMatches=cbp.pricenoticessPage.globalVars.noMatchesMaxResults.replace("{0}",cbp.pricenoticessPage.pricenoticessResponse.resultCount),a=[]),(null===a||void 0===a)&&(a=[]),b(c.sortByDdn).val("pricenoticesDate-desc").selectpicker("refresh"),b("#table").bootstrapTable({classes:"table table-no-bordered",striped:!0,sortName:"pricenoticesDate",uniqueId:"pricenoticesId",sortOrder:"desc",iconsPrefix:"fa",sortable:!0,parentContainer:".js-bottom-detail",sortByDropdownId:"#sortByDdn",responsive:!0,responsiveBreakPoint:768,responsiveClass:"bootstrap-table-cardview",onCheck:function(a,b){selectedpricenoticess.push(a.pricenoticesId),selectedProduct.push(a.type),selectedpricenoticesStatus.push(a.cbppricenoticesStatus),pricenoticesTotalSum+=a.total,pricenoticesStatusCodes.indexOf(a.cbppricenoticesStatus)>-1&&(d+=1),d>0&&(enablepricenoticesError=!0),enableTotalError=0>=pricenoticesTotalSum,u()},onCheckAll:function(a){selectedpricenoticess=[],selectedProduct=[],selectedpricenoticesStatus=[];for(var b=a.length,c=0;b>c;c++)selectedpricenoticess.push(a[c].pricenoticesId),selectedProduct.push(a[c].type),selectedpricenoticesStatus.push(a[c].cbppricenoticesStatus),pricenoticesTotalSum+=a[c].total,pricenoticesStatusCodes.indexOf(a[c].cbppricenoticesStatus)>-1&&(d+=1),d>0&&(enablepricenoticesError=!0);0>=pricenoticesTotalSum&&(enableTotalError=!0),a.length&&u()},onUncheck:function(a,e){var f=selectedpricenoticess.indexOf(a.pricenoticesId);pricenoticesTotalSum-=a.total,f>-1&&(selectedpricenoticess.splice(f,1),selectedProduct.splice(f,1),selectedpricenoticesStatus.splice(f,1),w()),b(c.tabelRow).hasClass("selected")||v(),pricenoticesStatusCodes.indexOf(a.cbppricenoticesStatus)>-1&&(d-=1),0>=d&&(enablepricenoticesError=!1,b(".js-selected-pricenotices-error").addClass("hide")),pricenoticesTotalSum>=0?(enableTotalError=!1,b(".js-total-amount-error").addClass("hide")):enableTotalError=!0,e.parents("tr").removeClass("bg-danger")},onUncheckAll:function(a){selectedpricenoticess=[],selectedProduct=[],selectedpricenoticesStatus=[],d=0,pricenoticesTotalSum=0,enablepricenoticesError=!1,enableTotalError=!1,b(".js-selected-pricenotices-error").addClass("hide"),b(".js-total-amount-error").addClass("hide"),v(),b("#table tbody").find("tr").removeClass("bg-danger")},columns:[{field:"",checkbox:!0,"class":"fa",formatter:function(a,b,c){return'<input type="hidden" name="type" value="'+b.type+"@"+b.cbppricenoticesStatus+'">'}},{field:"status",title:cbp.pricenoticessPage.globalVars.statustb,titleTooltip:cbp.pricenoticessPage.globalVars.statustb,"class":"text-nowrap",formatter:function(a,b,c){var d,e,f="",g="";return b.downloaded&&"true"!==inASMSession&&(f="success-icon"),b.printed&&"true"!==inASMSession&&(g="success-icon"),d="<span class='fa fa-download iconsPrintDownload xs-pr-10 "+f+"' data-pricenoticesId='"+b.pricenoticesId+"'></span>",e="<span class='fa fa-print iconspricenoticesPrint "+g+"' data-pricenoticesId='"+b.pricenoticesId+"'></span>",d+e}},{field:"location",title:cbp.pricenoticessPage.globalVars.locationtb,titleTooltip:cbp.pricenoticessPage.globalVars.locationtb,sortable:!0},{field:"pricenoticesDate",title:cbp.pricenoticessPage.globalVars.pickDatetb,titleTooltip:cbp.pricenoticessPage.globalVars.pickDatetb,"class":"numberIcon text-nowrap",sorter:function(a,b){return a=e(a,cbp.pricenoticessPage.dateRange.format,!0).format(),b=e(b,cbp.pricenoticessPage.dateRange.format,!0).format(),b>a?-1:a>b?1:0},sortable:!0,align:"right"},{field:"orderId",title:cbp.pricenoticessPage.globalVars.orderNumbertb+"<br> <i>"+cbp.pricenoticessPage.globalVars.customerPOtb+"</i>",titleTooltip:cbp.pricenoticessPage.globalVars.orderNumbertb,"class":"numberIcon text-nowrap",sortable:!0,formatter:function(a,b,c){var d,e;return d="ZOOR"==b.salesOrderType&&orderAvailable&&!cbp.pricenoticessPage.isNARegion?'<a href="javascript:void(0);" onclick="goToOrderDetails(\''+b.orderId+"')\">"+b.orderId+"</a>":b.orderId,e=void 0===b.purchaseOrderNumber||null===b.purchaseOrderNumber?"":"<br> <i>"+b.purchaseOrderNumber+"</i>",d+e}},{field:"pricenoticesId",title:cbp.pricenoticessPage.globalVars.pricenoticestb+(showLegal?"<br> <i>"+cbp.pricenoticessPage.globalVars.legalpricenoticestb+"</i>":""),titleTooltip:cbp.pricenoticessPage.globalVars.pricenoticestb,"class":"numberIcon text-nowrap",sortable:!0,formatter:function(a,b,c){var d,e;return d='<a href="javascript:void(0);" onclick="callpricenoticesPDFLink(\''+b.pricenoticesId+"')\">"+b.pricenoticesId+"</a>",e=void 0===b.legalDocumentNumber||null===b.legalDocumentNumber?"":showLegal?"<br> <i>"+b.legalDocumentNumber+"</i>":"",d+e}},{field:"type",title:cbp.pricenoticessPage.globalVars.docTypetb,titleTooltip:cbp.pricenoticessPage.globalVars.docTypetb,"class":cbp.pricenoticessPage.isNARegion?"":"text-nowrap",sortable:!0,formatter:function(a,b,c){return pricenoticesTypeMapper[a]}},{field:"total",title:cbp.pricenoticessPage.globalVars.totaltb+(""===cbp.pricenoticessPage.pricenoticessResponse.currency?"":" ("+cbp.pricenoticessPage.pricenoticessResponse.currency+")")+("true"==ccPaymentEligible?"<br> <i>"+cbp.pricenoticessPage.globalVars.paymentStatustb+"</i>":""),titleTooltip:cbp.pricenoticessPage.globalVars.totaltb+" ("+cbp.pricenoticessPage.pricenoticessResponse.currency+")","class":"numberIcon text-nowrap",sortable:!0,align:"right",sorter:function(a,b){return null!==a&&null!==b&&(a=parseFloat(a),b=parseFloat(b)),b>a?-1:a>b?1:0},formatter:function(a,b,c){var d,e;return d=a>="0"?b.displayTotal:"<span class='text-danger'>"+b.displayTotal+"</span>",e=void 0===b.cbppricenoticesStatus||null===b.cbppricenoticesStatus||"false"==ccPaymentEligible||"00"===b.cbppricenoticesStatus?"":"<br> <i><span class='text-danger'>"+pricenoticesStatusMapper[b.cbppricenoticesStatus]+"</span></i>",d+e}},{field:"eftNumber",title:cbp.pricenoticessPage.globalVars.eftNumber,titleTooltip:cbp.pricenoticessPage.globalVars.eftNumber,"class":"text-nowrap",sortable:!0,visible:cbp.pricenoticessPage.showEFT,formatter:function(a,b,c){return'<a href="javascript:void(0);" onclick="goToEftDetails(\''+a+"', '"+b.fiscalYear+"')\">"+a+"</a>"}},{field:"deliveryDate",title:cbp.pricenoticessPage.globalVars.deliveryDate,titleTooltip:cbp.pricenoticessPage.globalVars.deliveryDate,"class":"text-nowrap",visible:cbp.pricenoticessPage.showDeliveryDate,sortable:!0}],data:a})};return{init:d}}();b(document).ready(function(){b.fn.selectpicker.defaults={noneSelectedText:cbp.pricenoticessPage.globalVars.selectDdn.noneSelectedText,noneResultsText:cbp.pricenoticessPage.globalVars.selectDdn.noneResultsText,countSelectedText:function(a,b){return 1==a?cbp.pricenoticessPage.globalVars.selectDdn.itemSelected:cbp.pricenoticessPage.globalVars.selectDdn.itemSelected1},maxOptionsText:function(a,b){return[1==a?cbp.pricenoticessPage.globalVars.selectDdn.limitReached:cbp.pricenoticessPage.globalVars.selectDdn.limitReached1,1==b?cbp.pricenoticessPage.globalVars.selectDdn.groupLimit:cbp.pricenoticessPage.globalVars.selectDdn.groupLimit1]},selectAllText:cbp.pricenoticessPage.globalVars.selectDdn.selectAllText,deselectAllText:cbp.pricenoticessPage.globalVars.selectDdn.deselectAllText},b.fn.bootstrapTable.locales={formatLoadingMessage:function(){return cbp.pricenoticessPage.globalVars.tableLocales.loadingMessage},formatRecordsPerPage:function(a){return cbp.pricenoticessPage.globalVars.tableLocales.recordsPerPage.replace("{0}",a)},formatShowingRows:function(a,b,c){return cbp.pricenoticessPage.globalVars.tableLocales.showingRows.replace("{0}",a).replace("{1}",b).replace("{2}",c)},formatSearch:function(){return cbp.pricenoticessPage.globalVars.tableLocales.search},formatNoMatches:function(){return cbp.pricenoticessPage.globalVars.tableLocales.noMatches},formatPaginationSwitch:function(){return cbp.pricenoticessPage.globalVars.tableLocales.paginationSwitch},formatRefresh:function(){return cbp.pricenoticessPage.globalVars.tableLocales.refresh},formatToggle:function(){return cbp.pricenoticessPage.globalVars.tableLocales.toggle},formatColumns:function(){return cbp.pricenoticessPage.globalVars.tableLocales.columns},formatAllRows:function(){return cbp.pricenoticessPage.globalVars.tableLocales.allRows}},b.extend(b.fn.bootstrapTable.defaults,b.fn.bootstrapTable.locales),"false"==noCardsAdded&&"false"==allCardsExpired&&"true"==ccPaymentEligible&&"true"==showPaypricenotices?cbp.pricenoticessPage.showHidepricenoticesBtn="false":cbp.pricenoticessPage.showHidepricenoticesBtn="true",leftPaneExpandCollapse.init(),cbp.pricenoticessPage.showSoldTo=!0,cbp.pricenoticessPage.pricenoticessResponse=pricenoticessResponse,void 0===pricenoticessResponse.resultCount||null===pricenoticessResponse.resultCount?(cbp.pricenoticessPage.pricenoticessResponse.resultCount=0,cbp.pricenoticessPage.globalVars.pricenoticessFoundVar=cbp.pricenoticessPage.globalVars.pricenoticessFound.replace("{0}",0)):cbp.pricenoticessPage.globalVars.pricenoticessFoundVar=cbp.pricenoticessPage.globalVars.pricenoticessFound.replace("{0}",pricenoticessResponse.resultCount),(void 0===pricenoticessResponse.pricenoticessDataList||null===pricenoticessResponse.pricenoticessDataList)&&(cbp.pricenoticessPage.pricenoticessResponse.pricenoticessDataList=[]),"true"===allpricenoticesFlow||cbp.pricenoticessPage.pricenoticessResponse.resultCount>0&&cbp.pricenoticessPage.pricenoticessResponse.resultCount<maxResults?cbp.pricenoticessPage.showDebitCredit=!0:cbp.pricenoticessPage.showDebitCredit=!1,cbp.pricenoticessPage.dateRange.startDate=e().subtract(pastSelectableDate,"days"),cbp.pricenoticessPage.dateRange.endDate=e(),"true"===allpricenoticesFlow&&(cbp.pricenoticessPage.dateRange.startDate=e().subtract(cbp.pricenoticessPage.dateRange.maxMonth,"month")),cbp.pricenoticessPage.globalVars.summaryfromAndToVar=cbp.pricenoticessPage.globalVars.summaryfromAndTo.replace("{0}",cbp.pricenoticessPage.dateRange.startDate.format(cbp.pricenoticessPage.dateRange.format)).replace("{1}",cbp.pricenoticessPage.dateRange.endDate.format(cbp.pricenoticessPage.dateRange.format)),cbp.pricenoticessPage.ccPaymentEligible=ccPaymentEligible,cbp.pricenoticessPage.isNARegion=isNARegion,cbp.pricenoticessPage.isNARegion?(cbp.pricenoticessPage.showDeliveryDate=!0,cbp.pricenoticessPage.showEFT=!0):(cbp.pricenoticessPage.showDeliveryDate=!1,cbp.pricenoticessPage.showEFT=!1),s.init()})});